

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>dataprofiler.data_readers.data_utils module &mdash; Data Profiler 21.01.20 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="dataprofiler.data_readers.json_data module" href="dataprofiler.data_readers.json_data.html" />
    <link rel="prev" title="dataprofiler.data_readers.data module" href="dataprofiler.data_readers.data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Data Profiler
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dataprofiler.profilers.html">dataprofiler.profilers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataprofiler.labelers.html">dataprofiler.labelers package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dataprofiler.data_readers.html">dataprofiler.data_readers package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="dataprofiler.data_readers.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.avro_data.html">dataprofiler.data_readers.avro_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.base_data.html">dataprofiler.data_readers.base_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.csv_data.html">dataprofiler.data_readers.csv_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.data.html">dataprofiler.data_readers.data module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">dataprofiler.data_readers.data_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.json_data.html">dataprofiler.data_readers.json_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.parquet_data.html">dataprofiler.data_readers.parquet_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.structured_mixins.html">dataprofiler.data_readers.structured_mixins module</a></li>
<li class="toctree-l3"><a class="reference internal" href="dataprofiler.data_readers.text_data.html">dataprofiler.data_readers.text_data module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dataprofiler.data_readers.html#module-dataprofiler.data_readers">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dataprofiler.validators.html">dataprofiler.validators package</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Data Profiler</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="dataprofiler.data_readers.html">dataprofiler.data_readers package</a> &raquo;</li>
        
      <li>dataprofiler.data_readers.data_utils module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/dataprofiler.data_readers.data_utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dataprofiler.data_readers.data_utils">
<span id="dataprofiler-data-readers-data-utils-module"></span><h1>dataprofiler.data_readers.data_utils module<a class="headerlink" href="#module-dataprofiler.data_readers.data_utils" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.data_generator">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">data_generator</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list and returns a generator on the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_list</strong> (<em>list</em>) – list of strings</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>item from the list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.generator_on_file">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">generator_on_file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.generator_on_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a file and returns a generator that returns lines</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>path</em>) – path to the file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Line from file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.convert_int_to_string">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">convert_int_to_string</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.convert_int_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the given input to string. In particular, it is int,
it converts it ensuring there is no . or 00 in the converted string.
In addition, if the input is np.nan, the output will be ‘nan’ which is
what we need to handle data properly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>float</em><em>, </em><em>str</em><em>, </em><em>numpy.nan</em><em>]</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.unicode_to_str">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">unicode_to_str</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_dicts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.unicode_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert data to string representation if it is a unicode string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>str</em>) – input data</p></li>
<li><p><strong>ignore_dicts</strong> (<em>boolean</em>) – if set, ignore the dictionary type processing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>string representation of data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.json_to_dataframe">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">json_to_dataframe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_in_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.json_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes a list of json objects and returns the dataframe
representing the json list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_lines</strong> (<em>list</em><em>(</em><em>dict</em><em>)</em>) – list of json objects</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a list of keys to be processed</p></li>
<li><p><strong>read_in_string</strong> (<em>bool</em>) – if True, all the values in dataframe will be
converted to string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dataframe converted from json list and list of dtypes for each
column</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple(pd.DataFrame, pd.Series(dtypes))</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.read_json_df">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">read_json_df</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_generator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_in_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.read_json_df" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns an iterator that returns a chunk of data
as dataframe in each call. The source of input to this function is either a
file or a list of JSON structured strings. If the file path is given as
input, the file is expected to have one JSON structures in each line. The
lines that are not valid json will be ignored. Therefore, a file with
pretty printed JSON objects will not be considered valid JSON. If the
input is a data list, it is expected to be a list of strings where each
string is a valid JSON object. if the individual object is not valid
JSON, it will be ignored.</p>
<p>NOTE: both data_list and file_path cannot be passed at the same time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_generator</strong> (<em>generator</em>) – The generator you want to read.</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a list of keys to be processed</p></li>
<li><p><strong>read_in_string</strong> (<em>bool</em>) – if True, all the values in dataframe will be
converted to string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns an iterator that returns a chunk of file as dataframe in
each call as well as original dtypes of the dataframe columns.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>typle(Iterator(pd.DataFrame), pd.Series(dtypes)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.read_csv_df">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">read_csv_df</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_in_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.read_csv_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a CSV file in chunks and returns a dataframe in the form of iterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to the CSV file.</p></li>
<li><p><strong>delimiter</strong> (<em>str</em>) – character used to separate csv values.</p></li>
<li><p><strong>header</strong> (<em>int</em>) – the header row in the csv file.</p></li>
<li><p><strong>selected_columns</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – a list of columns to be processed</p></li>
<li><p><strong>read_in_string</strong> (<em>bool</em>) – if True, all the values in dataframe will be
converted to string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Iterator</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.read_parquet_df">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">read_parquet_df</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_in_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.read_parquet_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator that returns one row group each time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – path to the Parquet file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Iterator(pd.DataFrame)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.read_text_as_list_of_strs">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">read_text_as_list_of_strs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.read_text_as_list_of_strs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of strings relative to the chunk size. Each line is 1 chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_path</strong> (<em>str</em>) – path to the file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="dataprofiler.data_readers.data_utils.detect_file_encoding">
<code class="sig-prename descclassname"><span class="pre">dataprofiler.data_readers.data_utils.</span></code><code class="sig-name descname"><span class="pre">detect_file_encoding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dataprofiler.data_readers.data_utils.detect_file_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the encoding of files within the initial <cite>max_lines</cite> of length
<cite>buffer_size</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) – path to the file</p></li>
<li><p><strong>buffer_size</strong> (<em>int</em>) – buffer length for each line being read</p></li>
<li><p><strong>max_lines</strong> (<em>int</em>) – number of lines to read from file of length buffer_size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>encoding type</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="dataprofiler.data_readers.json_data.html" class="btn btn-neutral float-right" title="dataprofiler.data_readers.json_data module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="dataprofiler.data_readers.data.html" class="btn btn-neutral float-left" title="dataprofiler.data_readers.data module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Jeremy Goodsitt, Austin Walters, Anh Truong, and Grant Eden.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>